var mvX=0,mvY=0,timerY,timerX,jP=0,noXNeg=0,noXPos=0,jH=46,dF="0%",dH=jH+"%",cO=0,kA=Array(3),lives=3,hP=1,iM=0,iMC=0,hB=0,z,mush,nL="end",fK=0,mTY,mMY=0,eU=document.getElementsByTagName("div");function initMap(){z=document.getElementById("z");mush=document.getElementById("mush");for(var b=0;b<eU.length;b++)if(eU[b].className=="k"){kA[cO]=[];kA[cO][0]=eU[b].id;kA[cO][1]=eU[b].getAttribute("data-range");kA[cO][2]=1;kA[cO][3]=0;kA[cO][4]=1;cO+=1}kA[0]&&setInterval(function(){kpM()},90)}
function kpM(){for(var b,c,a=0;a<kA.length;a++)if(kA[a][4]!=0&&fK==0){b=document.getElementById(kA[a][0]);noXPos=noXNeg=0;c=s(b.style.left);if(kA[a][3]>=kA[a][1]||noXNeg>0)kA[a][2]=3;else if(kA[a][3]<=0)kA[a][2]=1;switch(kA[a][2]){case 1:b.style.left=c-1+"%";kA[a][3]+=1;break;case 3:if(noXPos==0){b.style.left=c+1+"%";kA[a][3]-=1}break}cDF("z")}}
function keyEvent(b,c){if(!b)b=window.event;var a=b.keyCode;if(c==0){if(a==37||a==39||a==65||a==68||a==81||a==69){sF(2);clearInterval(timerX);mvX=0}if(a==38)hB=0}else if(c==1)switch(b.keyCode){case 37:case 65:case 81:if(mvX==0&&hP>0){timerX=setInterval(function(){mv("z",1)},20);mvX=1}break;case 38:case 32:case 87:hB=1;if(mvY==0&&hP>0){timerY=setInterval(function(){mv("z",2)},8);mvY=1}break;case 39:case 68:case 69:if(mvX==0&&hP>0){timerX=setInterval(function(){mv("z",3)},20);mvX=1}break}}
function sF(b){var c=Array(3);c[0]=document.getElementById("q3");c[1]=document.getElementById("q4");c[2]=document.getElementById("q5");c[3]=document.getElementById("q6");switch(b){case 1:c[0].style.left="10%";c[1].style.left="60%";c[1].style.bottom="7%";c[2].style.left="10%";c[3].style.left="20%";break;case 2:c[0].style.left="20%";c[1].style.left="50%";c[0].style.bottom="0%";c[1].style.bottom="0%";break;case 3:c[0].style.left="10%";c[0].style.bottom="7%";c[1].style.left="60%";c[2].style.left=
"60%";c[3].style.left="65%";break;case 4:c[2].style.bottom="90%";break;case 5:c[2].style.bottom="35%";break}}
function mv(b,c){var a=document.getElementById(b);s(a.style.left);var d=s(a.style.bottom),i=s(document.getElementById("g1").style.left),g=s(document.getElementById("e").style.left);noXPos=noXNeg=0;cDF(b);switch(c){case 1:sF(1);if(i<0)for(d=0;d<eU.length;d++)if(eU[d].id!="z"&&eU[d].id!="wr"&&eU[d].id!="sc"&&eU[d].className!="q")if(noXNeg==0)if(eU[d].className!="c"){a=s(eU[d].style.left);eU[d].style.left=a+1+"%"}break;case 2:if(a.style.bottom==dF&&jP>0){clearInterval(timerY);mvY=jP=0;dH=s(dF)+jH+
"%"}else if(a.style.bottom==dH||jP>0){sF(5);if(jP>8)a.style.bottom=d-1+"%";else jP+=1}else{sF(4);a.style.bottom=d+1+"%"}break;case 3:sF(3);if(g>0)for(d=0;d<eU.length;d++)if(eU[d].id!="z"&&eU[d].id!="wr"&&eU[d].id!="sc"&&eU[d].className!="q")if(noXPos==0)if(eU[d].className!="c"){a=s(eU[d].style.left);eU[d].style.left=a-1+"%"}}if(g<=0)eLe();else z.style.bottom=="150%"&&hP==0&&rW()}
function cDF(b){b=document.getElementById(b);var c=s(b.style.width),a=s(b.style.bottom),d=s(b.style.left),i=s(b.style.height),g,j,f,h,k;if(b.id=="z"){k=1;dF="-50%"}for(var e=0;e<eU.length;e++)if(hP>0&&eU[e].id!="z"&&eU[e].id!="wr"&&eU[e].id!="sc"){f=s(eU[e].style.bottom);g=s(eU[e].style.left);j=s(eU[e].style.width);h=s(eU[e].style.height);if(b.id=="z"&&f==a+i&&g<d+c&&g+j>d){if((eU[e].className=="p"||eU[e].className=="k")&&jP==0)jP=1;eU[e].className=="p"&&boxBump(eU[e].id);eU[e].className=="k"&&kH();
eU[e].className=="m"&&mC(1)}if(b.id=="z"&&a==f+h&&(d>=g&&d<g+j||d+c>g&&d+c<g+j)){if(eU[e].className=="p"||eU[e].className=="g"){dF=f+h+"%";k=0;if(mvY==0)dH=f+h+jH+"%"}eU[e].className=="m"&&mC(1)}if(b.id=="z"&&eU[e].className=="k")if(a==f+h&&(d>=g&&d<=g+j||d+c>=g&&d+c<=g+j)){k=0;dK(eU[e].id)}if(eU[e].className=="p"||eU[e].className=="k"||eU[e].className=="m"||eU[e].className=="g"){if(g+j==d&&(f+h<a+i&&f+h>a||f<a+i&&f>a||a+i<f+h&&a+i>f||a<f+h&&a>=f)){noXNeg=1;b.id=="z"&&eU[e].className=="k"&&kH();eU[e].className==
"m"&&mC(1)}if(g==d+c&&(f+h<a+i&&f+h>a||f<a+i&&f>a||a+i<f+h&&a+i>f||a<f+h&&a>=f)){noXPos=1;b.id=="z"&&eU[e].className=="k"&&kH();eU[e].className=="m"&&mC(1)}}}if(k!=0&&mvY==0&&a+"%"!=dF){jP=8;timerY=setInterval(function(){mv("z",2)},8);mvY=1}b.id=="z"&&a==-50&&dZ()}
function boxBump(b){var c=document.getElementById(b),a=s(c.style.bottom);setTimeout(function(){c.style.bottom=a+1+"%"},10);setTimeout(function(){c.style.bottom=a+"%"},120);if(c.getAttribute("data-o")>0){mush.style.bottom=a+s(c.style.height)+"%";mush.style.left=s(c.style.left)+"%"}c.setAttribute("data-o",0);c.style.backgroundColor="222222"}function mC(b){if(b==1){if(hP==1)z.style.height=s(z.style.height)*2+"%";hP=2}mush.style.bottom="-30%";clearInterval(mush.timer);clearInterval(mTY);mMY=0}
function kH(){if(iM!=1&&lives!=0){var b;hP-=1;if(hP<=0)dZ();else{b=s(z.style.height);z.style.height=b/2+"%";iM=1;z.timer=setInterval(function(){setiM(150)},1)}}}function rW(){if(lives>0){hP=1;clearInterval(timerY);mvY=0;cDF("z");z.timer=setInterval(function(){setiM(300)},10);fK=0}else window.location="end.html"}function setiM(b){iM=1;iMC+=1;z.style.display=iMC%2==0?"none":"";if(iMC>b){iM=iMC=0;z.style.display="";clearInterval(z.timer)}}
function dZ(){hP=0;lives-=1;document.getElementById("lives").innerHTML=lives;clearInterval(timerX);jP=0;clearInterval(timerY);timerY=setInterval(function(){mv("z",2)},30);mvY=1;dH="150%";if(lives>0)fK=1}function dK(b){var c=b;c=parseInt(c.substring(1));var a=s(z.style.bottom);kA[c-1][4]=0;document.getElementById(b).style.bottom="-30%";jP=0;clearInterval(timerY);timerY=setInterval(function(){mv("z",2)},8);mvY=1;dH=hB==0?a+22+"%":a+jH+"%"}
function eLe(){jP=hP=0;clearInterval(timerY);timerY=setInterval(function(){mv("z",2)},30);mvY=1;dH="200%";if(s(z.style.bottom)>150)window.location=nL+".html"}function s(b){return parseInt(b.substring(0,b.indexOf("%")))};